<% content_for :title, @mtitle %>
<% content_for :meta_description, @mdescription %>

<!-- Hero Section -->
<section class="py-5" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-10 text-center">
        <h1 class="display-4 fw-bold mb-4">
          Contact Our Expert Legal Team
        </h1>
        <p class="lead mb-4">
          Get personalized legal advice from our experienced Spanish property lawyers. 
          We're here to help with all your legal needs in Spain.
        </p>
        <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center">
          <a href="#calendly-widget" class="btn btn-lg rounded-pill px-5" style="background-color: #b39c84; border-color: #b39c84; color: white;">
            Schedule Free Consultation
          </a>
          <a href="#contact-info" class="btn btn-outline-secondary btn-lg rounded-pill px-5">
            Contact Information
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Main Content -->
<section class="py-5">
  <div class="container">
    <div class="row">
      
      <!-- Calendly Widget Section -->
      <div class="col-lg-8 mb-5">
        <div class="card border-0 shadow-sm h-100">
          <div class="card-body p-4">
            <h2 class="h3 mb-4" id="calendly-widget" style="color: #b39c84;">Schedule Your Free Consultation</h2>
            <p class="mb-4">
              Book a convenient time to speak with our expert legal team. We offer free initial consultations 
              to discuss your Spanish property law needs and how we can help you achieve your goals.
            </p>
            
            <!-- Calendly inline widget begin -->
            <div class="calendly-inline-widget" 
                 data-url="https://calendly.com/roperlawyers/30min" 
                 style="min-width:320px;height:700px;">
            </div>
            <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>
            <!-- Calendly inline widget end -->
            
            <div class="alert alert-info mt-4" role="alert">
              <strong>What to expect:</strong> During your consultation, we'll discuss your specific legal needs, 
              explain the relevant Spanish property laws, and provide you with a clear action plan.
            </div>
          </div>
        </div>
      </div>
      
      <!-- Contact Information Sidebar -->
      <div class="col-lg-4">
        
        <!-- Contact Details -->
        <div class="card border-0 shadow-sm mb-4" id="contact-info">
          <div class="card-header bg-white border-0">
            <h4 class="h5 mb-0">Contact Information</h4>
          </div>
          <div class="card-body">
            <div class="mb-4">
              <h6 class="fw-bold mb-2">üìû Phone Numbers</h6>
              <p class="mb-1">
                <a href="tel:+442081358218" class="text-decoration-none">
                  üá¨üáß UK: +44 20 8135 8218
                </a>
              </p>
              <p class="mb-0">
                <a href="tel:+34928974241" class="text-decoration-none">
                  üá™üá∏ Spain: +34 928 97 42 41
                </a>
              </p>
            </div>
            
            <div class="mb-4">
              <h6 class="fw-bold mb-2">‚úâÔ∏è Email</h6>
              <p class="mb-0">
                <a href="mailto:info@roperlawyers.com" class="text-decoration-none">
                  info@roperlawyers.com
                </a>
              </p>
            </div>
            
            <div class="mb-4">
              <h6 class="fw-bold mb-2">üïí Office Hours</h6>
              <p class="mb-1"><strong>Monday - Friday:</strong> 9:00 AM - 6:00 PM (CET)</p>
              <p class="mb-0"><strong>Saturday:</strong> 10:00 AM - 2:00 PM (CET)</p>
              <small class="text-muted">Emergency consultations available by appointment</small>
            </div>
            
            <div class="mb-0">
              <h6 class="fw-bold mb-2">üí¨ WhatsApp</h6>
              <p class="mb-0">
                <a href="https://wa.me/+34649948377" target="_blank" class="text-decoration-none">
                  +34 649 94 83 77
                </a>
              </p>
            </div>
          </div>
        </div>
        
        <!-- Quick Contact Form -->
        <div class="card border-0 shadow-sm mb-4">
          <div class="card-header bg-white border-0">
            <h4 class="h5 mb-0">Quick Message</h4>
          </div>
          <div class="card-body">
            <p class="small text-muted mb-3">
              Prefer to send a quick message? Use the form below and we'll get back to you within 24 hours.
            </p>
            <button type="button" class="btn w-100 rounded-pill" data-bs-toggle="modal" data-bs-target="#contactModal" 
                    style="background-color: #b39c84; border-color: #b39c84; color: white;">
              Send Quick Message
            </button>
          </div>
        </div>
        
        <!-- Services Overview -->
        <div class="card border-0 shadow-sm">
          <div class="card-header bg-white border-0">
            <h4 class="h5 mb-0">Our Legal Services</h4>
          </div>
          <div class="card-body">
            <div class="d-flex flex-wrap gap-2">
              <span class="badge rounded-pill" style="background-color: #b39c84; color: white;">Property Buying</span>
              <span class="badge rounded-pill" style="background-color: #b39c84; color: white;">Property Selling</span>
              <span class="badge rounded-pill" style="background-color: #b39c84; color: white;">VV Licenses</span>
              <span class="badge rounded-pill" style="background-color: #b39c84; color: white;">Wills & Inheritance</span>
              <span class="badge rounded-pill" style="background-color: #b39c84; color: white;">NIE Applications</span>
              <span class="badge rounded-pill" style="background-color: #b39c84; color: white;">Tax Advice</span>
            </div>
            <p class="small text-muted mt-3 mb-0">
              Comprehensive Spanish property law services with 15+ years of experience serving international clients.
            </p>
          </div>
        </div>
        
      </div>
    </div>
  </div>
</section>

<!-- Why Choose Us Section -->
<section class="py-5 bg-light">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-10">
        <h2 class="text-center mb-5">Why Choose Roper Lawyers?</h2>
        <div class="row">
          <div class="col-md-4 mb-4">
            <div class="text-center">
              <div class="mb-3">
                <i class="fas fa-user-tie fa-3x" style="color: #b39c84;"></i>
              </div>
              <h5>Expert Legal Team</h5>
              <p class="text-muted">15+ years of experience in Spanish property law with a proven track record of success.</p>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="text-center">
              <div class="mb-3">
                <i class="fas fa-language fa-3x" style="color: #b39c84;"></i>
              </div>
              <h5>Bilingual Service</h5>
              <p class="text-muted">Fluent in English and Spanish, ensuring clear communication throughout your legal process.</p>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="text-center">
              <div class="mb-3">
                <i class="fas fa-shield-alt fa-3x" style="color: #b39c84;"></i>
              </div>
              <h5>Trusted & Reliable</h5>
              <p class="text-muted">Hundreds of satisfied clients trust us with their most important legal matters in Spain.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Reviews Section -->
<%= render 'main_page_sections/reviews' %>

<!-- Additional Calendly Styles -->
<style>
  .calendly-inline-widget {
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  }
  
  /* Ensure Calendly widget is responsive */
  @media (max-width: 768px) {
    .calendly-inline-widget {
      height: 600px !important;
    }
  }
</style>
